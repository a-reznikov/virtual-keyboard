(()=>{"use strict";const e=JSON.parse('[{"key":"`","code":"Backquote","caps":"`","shift":"~","capsShift":"!","keyRu":"ё","capsRu":"Ё","shiftRu":"Ё","capsShiftRu":"ё"},{"key":"1","code":"Digit1","caps":"1","shift":"!","capsShift":"!","keyRu":"1","capsRu":"1","shiftRu":"!","capsShiftRu":"!"},{"key":"2","code":"Digit2","caps":"2","shift":"@","capsShift":"@","keyRu":"2","capsRu":"2","shiftRu":"\\"","capsShiftRu":"@"},{"key":"3","code":"Digit3","caps":"3","shift":"#","capsShift":"#","keyRu":"3","capsRu":"3","shiftRu":"№","capsShiftRu":"№"},{"key":"4","code":"Digit4","caps":"4","shift":"$","capsShift":"$","keyRu":"4","capsRu":"4","shiftRu":";","capsShiftRu":";"},{"key":"5","code":"Digit5","caps":"5","shift":"%","capsShift":"%","keyRu":"5","capsRu":"5","shiftRu":"%","capsShiftRu":"%"},{"key":"6","code":"Digit6","caps":"6","shift":"^","capsShift":"^","keyRu":"6","capsRu":"6","shiftRu":":","capsShiftRu":":"},{"key":"7","code":"Digit7","caps":"7","shift":"&","capsShift":"&","keyRu":"7","capsRu":"7","shiftRu":"?","capsShiftRu":"?"},{"key":"8","code":"Digit8","caps":"8","shift":"*","capsShift":"*","keyRu":"8","capsRu":"8","shiftRu":"*","capsShiftRu":"*"},{"key":"9","code":"Digit9","caps":"9","shift":"(","capsShift":"(","keyRu":"9","capsRu":"9","shiftRu":"(","capsShiftRu":"("},{"key":"0","code":"Digit0","caps":"0","shift":")","capsShift":")","keyRu":"0","capsRu":"0","shiftRu":")","capsShiftRu":")"},{"key":"-","code":"Minus","caps":"-","shift":"_","capsShift":"_","keyRu":"-","capsRu":"-","shiftRu":"_","capsShiftRu":"_"},{"key":"=","code":"Equal","caps":"=","shift":"+","capsShift":"+","keyRu":"=","capsRu":"=","shiftRu":"+","capsShiftRu":"+"},{"key":"Backspace","code":"Backspace","caps":"Backspace","shift":"Backspace","capsShift":"Backspace","keyRu":"Backspace","capsRu":"Backspace","shiftRu":"Backspace","capsShiftRu":"Backspace"},{"key":"Tab","code":"Tab","caps":"Tab","shift":"Tab","capsShift":"Tab","keyRu":"Tab","capsRu":"Tab","shiftRu":"Tab","capsShiftRu":"Tab"},{"key":"q","code":"KeyQ","caps":"Q","shift":"Q","capsShift":"q","keyRu":"й","capsRu":"Й","shiftRu":"Й","capsShiftRu":"й"},{"key":"w","code":"KeyW","caps":"W","shift":"W","capsShift":"w","keyRu":"ц","capsRu":"Ц","shiftRu":"Ц","capsShiftRu":"ц"},{"key":"e","code":"KeyE","caps":"E","shift":"E","capsShift":"e","keyRu":"у","capsRu":"У","shiftRu":"У","capsShiftRu":"у"},{"key":"r","code":"KeyR","caps":"R","shift":"R","capsShift":"r","keyRu":"к","capsRu":"К","shiftRu":"К","capsShiftRu":"к"},{"key":"t","code":"KeyT","caps":"T","shift":"T","capsShift":"t","keyRu":"е","capsRu":"Е","shiftRu":"Е","capsShiftRu":"е"},{"key":"y","code":"KeyY","caps":"Y","shift":"Y","capsShift":"y","keyRu":"н","capsRu":"Н","shiftRu":"Н","capsShiftRu":"н"},{"key":"u","code":"KeyU","caps":"U","shift":"U","capsShift":"u","keyRu":"г","capsRu":"Г","shiftRu":"Г","capsShiftRu":"г"},{"key":"i","code":"KeyI","caps":"I","shift":"I","capsShift":"i","keyRu":"ш","capsRu":"Ш","shiftRu":"Ш","capsShiftRu":"ш"},{"key":"o","code":"KeyO","caps":"O","shift":"O","capsShift":"o","keyRu":"щ","capsRu":"Щ","shiftRu":"Щ","capsShiftRu":"щ"},{"key":"p","code":"KeyP","caps":"P","shift":"P","capsShift":"p","keyRu":"з","capsRu":"З","shiftRu":"З","capsShiftRu":"з"},{"key":"[","code":"BracketLeft","caps":"[","shift":"{","capsShift":"[","keyRu":"х","capsRu":"Х","shiftRu":"Х","capsShiftRu":"х"},{"key":"]","code":"BracketRight","caps":"]","shift":"}","capsShift":"]","keyRu":"ъ","capsRu":"Ъ","shiftRu":"Ъ","capsShiftRu":"ъ"},{"key":"\\\\","code":"Backslash","caps":"\\\\","shift":"|","capsShift":"|","keyRu":"\\\\","capsRu":"\\\\","shiftRu":"/","capsShiftRu":"/"},{"key":"Delete","code":"Delete","caps":"Delete","shift":"Delete","capsShift":"Delete","keyRu":"Delete","capsRu":"Delete","shiftRu":"Delete","capsShiftRu":"Delete"},{"key":"CapsLock","code":"CapsLock","caps":"CapsLock","shift":"CapsLock","capsShift":"CapsLock","keyRu":"CapsLock","capsRu":"CapsLock","shiftRu":"CapsLock","capsShiftRu":"CapsLock"},{"key":"a","code":"KeyA","caps":"A","shift":"A","capsShift":"a","keyRu":"ф","capsRu":"Ф","shiftRu":"Ф","capsShiftRu":"ф"},{"key":"s","code":"KeyS","caps":"S","shift":"S","capsShift":"s","keyRu":"ы","capsRu":"Ы","shiftRu":"Ы","capsShiftRu":"ы"},{"key":"d","code":"KeyD","caps":"D","shift":"D","capsShift":"d","keyRu":"в","capsRu":"В","shiftRu":"В","capsShiftRu":"в"},{"key":"f","code":"KeyF","caps":"F","shift":"F","capsShift":"f","keyRu":"а","capsRu":"А","shiftRu":"А","capsShiftRu":"а"},{"key":"g","code":"KeyG","caps":"G","shift":"G","capsShift":"g","keyRu":"п","capsRu":"П","shiftRu":"П","capsShiftRu":"п"},{"key":"h","code":"KeyH","caps":"H","shift":"H","capsShift":"h","keyRu":"р","capsRu":"Р","shiftRu":"Р","capsShiftRu":"р"},{"key":"j","code":"KeyJ","caps":"J","shift":"J","capsShift":"j","keyRu":"о","capsRu":"О","shiftRu":"О","capsShiftRu":"о"},{"key":"k","code":"KeyK","caps":"K","shift":"K","capsShift":"k","keyRu":"л","capsRu":"Л","shiftRu":"Л","capsShiftRu":"л"},{"key":"l","code":"KeyL","caps":"L","shift":"L","capsShift":"l","keyRu":"д","capsRu":"Д","shiftRu":"Д","capsShiftRu":"д"},{"key":";","code":"Semicolon","caps":";","shift":":","capsShift":":","keyRu":"ж","capsRu":"Ж","shiftRu":"Ж","capsShiftRu":"ж"},{"key":"\'","code":"Quote","caps":"\'","shift":"\\"","capsShift":"\\"","keyRu":"э","capsRu":"Э","shiftRu":"Э","capsShiftRu":"э"},{"key":"Enter","code":"Enter","caps":"Enter","shift":"Enter","capsShift":"Enter","keyRu":"Enter","capsRu":"Enter","shiftRu":"Enter","capsShiftRu":"Enter"},{"key":"Shift","code":"ShiftLeft","caps":"Shift","shift":"Shift","capsShift":"Shift","keyRu":"Shift","capsRu":"Shift","shiftRu":"Shift","capsShiftRu":"Shift"},{"key":"z","code":"KeyZ","caps":"Z","shift":"Z","capsShift":"z","keyRu":"я","capsRu":"Я","shiftRu":"Я","capsShiftRu":"я"},{"key":"x","code":"KeyX","caps":"X","shift":"X","capsShift":"x","keyRu":"ч","capsRu":"Ч","shiftRu":"Ч","capsShiftRu":"ч"},{"key":"c","code":"KeyC","caps":"C","shift":"C","capsShift":"c","keyRu":"с","capsRu":"С","shiftRu":"С","capsShiftRu":"с"},{"key":"v","code":"KeyV","caps":"V","shift":"V","capsShift":"v","keyRu":"м","capsRu":"М","shiftRu":"М","capsShiftRu":"м"},{"key":"b","code":"KeyB","caps":"B","shift":"B","capsShift":"b","keyRu":"и","capsRu":"И","shiftRu":"И","capsShiftRu":"и"},{"key":"n","code":"KeyN","caps":"N","shift":"N","capsShift":"n","keyRu":"т","capsRu":"Т","shiftRu":"Т","capsShiftRu":"т"},{"key":"m","code":"KeyM","caps":"M","shift":"M","capsShift":"m","keyRu":"ь","capsRu":"Ь","shiftRu":"Ь","capsShiftRu":"ь"},{"key":",","code":"Comma","caps":",","shift":"<","capsShift":"<","keyRu":"б","capsRu":"Б","shiftRu":"Б","capsShiftRu":"б"},{"key":".","code":"Period","caps":".","shift":">","capsShift":">","keyRu":"ю","capsRu":"Ю","shiftRu":"Ю","capsShiftRu":"ю"},{"key":"/","code":"Slash","caps":"/","shift":"?","capsShift":"?","keyRu":".","capsRu":".","shiftRu":",","capsShiftRu":","},{"key":"&#11165;","code":"ArrowUp","caps":"&#11165;","shift":"&#11165;","capsShift":"&#11165;","keyRu":"&#11165;","capsRu":"&#11165;","shiftRu":"&#11165;","capsShiftRu":"&#11165;"},{"key":"Shift","code":"ShiftRight","caps":"Shift","shift":"Shift","capsShift":"Shift","keyRu":"Shift","capsRu":"Shift","shiftRu":"Shift","capsShiftRu":"Shift"},{"key":"Ctrl","code":"ControlLeft","caps":"Ctrl","shift":"Ctrl","capsShift":"Ctrl","keyRu":"Ctrl","capsRu":"Ctrl","shiftRu":"Ctrl","capsShiftRu":"Ctrl"},{"key":"Win","code":"MetaLeft","caps":"Win","shift":"Win","capsShift":"Win","keyRu":"Win","capsRu":"Win","shiftRu":"Win","capsShiftRu":"Win"},{"key":"Alt","code":"AltLeft","caps":"Alt","shift":"Alt","capsShift":"Alt","keyRu":"Alt","capsRu":"Alt","shiftRu":"Alt","capsShiftRu":"Alt"},{"key":" ","code":"Space","caps":" ","shift":" ","capsShift":" ","keyRu":" ","capsRu":" ","shiftRu":" ","capsShiftRu":" "},{"key":"Alt","code":"AltRight","caps":"Alt","shift":"Alt","capsShift":"Alt","keyRu":"Alt","capsRu":"Alt","shiftRu":"Alt","capsShiftRu":"Alt"},{"key":"&#11164;","code":"ArrowLeft","caps":"&#11164;","shift":"&#11164;","capsShift":"&#11164;","keyRu":"&#11164;","capsRu":"&#11164;","shiftRu":"&#11164;","capsShiftRu":"&#11164;"},{"key":"&#11167;","code":"ArrowDown","caps":"&#11167;","shift":"&#11167;","capsShift":"&#11167;","keyRu":"&#11167;","capsRu":"&#11167;","shiftRu":"&#11167;","capsShiftRu":"&#11167;"},{"key":"&#11166;","code":"ArrowRight","caps":"&#11166;","shift":"&#11166;","capsShift":"&#11166;","keyRu":"&#11166;","capsRu":"&#11166;","shiftRu":"&#11166;","capsShiftRu":"&#11166;"},{"key":"Ctrl","code":"ControlRight","caps":"Ctrl","shift":"Ctrl","capsShift":"Ctrl","keyRu":"Ctrl","capsRu":"Ctrl","shiftRu":"Ctrl","capsShiftRu":"Ctrl"}]');class t{constructor({key:e,code:t,caps:s,shift:c,capsShift:a,keyRu:i,capsRu:u,shiftRu:h,capsShiftRu:p}){this.key=e,this.code=t,this.caps=s,this.shift=c,this.capsShift=a,this.keyRu=i,this.capsRu=u,this.shiftRu=h,this.capsShiftRu=p}creatKey(){const e=document.createElement("div");e.className=`key ${this.code}`;const t=document.createElement("div");t.className="key-en";const s=document.createElement("span");s.className="case-lower",s.innerHTML=this.key;const c=document.createElement("span");c.className="caps hidden",c.innerHTML=this.caps;const a=document.createElement("span");a.className="shift hidden",a.innerHTML=this.shift;const i=document.createElement("span");i.className="caps-shift hidden",i.innerHTML=this.capsShift,t.append(s),t.append(c),t.append(a),t.append(i);const u=document.createElement("div");u.className="key-ru hidden";const h=document.createElement("span");h.className="case-lower",h.innerHTML=this.keyRu;const p=document.createElement("span");p.className="caps hidden",p.innerHTML=this.capsRu;const f=document.createElement("span");f.className="shift hidden",f.innerHTML=this.shiftRu;const o=document.createElement("span");return o.className="caps-shift hidden",o.innerHTML=this.capsShiftRu,u.append(h),u.append(p),u.append(f),u.append(o),e.append(t),e.append(u),e}}let s="en",c=!1,a=0,i=!1;const u=()=>{const e=document.querySelectorAll(".case-lower"),t=document.querySelectorAll(".caps");document.querySelector(".CapsLock").classList.toggle("pressed"),c?(e.forEach((e=>{e.classList.remove("hidden")})),t.forEach((e=>{e.classList.add("hidden")})),c=!1):(e.forEach((e=>{e.classList.add("hidden")})),t.forEach((e=>{e.classList.remove("hidden")})),c=!0)},h=()=>{const e=document.querySelectorAll(".case-lower"),t=document.querySelectorAll(".caps"),s=document.querySelectorAll(".shift"),c=document.querySelectorAll(".caps-shift");e.forEach((e=>{e.classList.add("hidden")})),t.forEach((e=>{e.classList.add("hidden")})),s.forEach((e=>{e.classList.add("hidden")})),c.forEach((e=>{e.classList.remove("hidden")}))},p=()=>{const e=document.querySelectorAll(".caps");document.querySelectorAll(".caps-shift").forEach((e=>{e.classList.add("hidden")})),e.forEach((e=>{e.classList.remove("hidden")}))},f=()=>{const e=document.querySelectorAll(".case-lower"),t=document.querySelectorAll(".shift");e.forEach((e=>{e.classList.add("hidden")})),t.forEach((e=>{e.classList.remove("hidden")}))},o=()=>{const e=document.querySelectorAll(".case-lower");document.querySelectorAll(".shift").forEach((e=>{e.classList.add("hidden")})),e.forEach((e=>{e.classList.remove("hidden")}))};function n(e,t,s){a+=1;let c=t.slice(0,e);return c+=s,c+t.slice(e,t.length)}const R=()=>{const e=document.querySelectorAll(".key-en"),t=document.querySelectorAll(".key-ru");s="en"===s?"ru":"en",e.forEach((e=>{e.classList.toggle("hidden")})),t.forEach((e=>{e.classList.toggle("hidden")}))};function d(){const e=document.querySelector(".textarea"),t=a;e.value=n(t,e.value,"\n"),e.setSelectionRange(a,a)}function l(){const e=document.querySelector(".textarea"),t=a;e.value=n(t,e.value,"\t"),e.setSelectionRange(a,a)}function y(){const e=document.querySelector(".textarea"),t=e.value,s=a;if(a>=1){const c=t.slice(0,s-1)+t.slice(s,t.length);e.value=c,a-=1,e.setSelectionRange(a,a)}}function r(){const e=document.querySelector(".textarea"),t=e.value,s=a;if(a<=t.length){const c=t.slice(0,s)+t.slice(s+1,t.length);e.value=c,e.setSelectionRange(a,a)}}document.addEventListener("keydown",(e=>{document.querySelector(".textarea").focus(),e.preventDefault(),document.querySelector(`.${e.code}`).classList.add("active");const t=e.code;"Alt"===e.key?"Alt"===e.key&&e.ctrlKey&&R():"Control"===e.key?"Control"===e.key&&e.altKey&&R():c||"CapsLock"!==e.code||!e.shiftKey||i?c&&"CapsLock"===e.code&&e.shiftKey&&!i?(c=!0,i=!0,p(),u(),f()):"CapsLock"!==e.code||e.shiftKey||i?c&&"Shift"===e.key?h():"Shift"===e.key?f():"Enter"===e.code?d():"Tab"===e.code?l():"Backspace"===e.code?y():"Delete"===e.code?r():"MetaLeft"!==e.code&&"CapsLock"!==e.code&&function(e){const t=document.querySelector(".textarea");let s=document.querySelector(`.${e}`).innerText;"Space"===e&&(s=" ");const c=a;t.value=n(c,t.value,s),t.setSelectionRange(a,a)}(t):(i=!0,u()):(c=!1,i=!0,u(),h())})),document.addEventListener("keyup",(e=>{document.querySelector(".textarea").focus(),document.querySelector(`.${e.code}`).classList.remove("active"),"CapsLock"===e.code&&(i=!1),c||"Shift"!==e.key?c&&"Shift"===e.key&&p():o()})),document.addEventListener("mousedown",(e=>{const t=e.target.innerText;!c&&"CapsLock"===t&&e.shiftKey?(u(),h()):c&&"CapsLock"===t&&e.shiftKey?(p(),u(),f()):c||"Shift"!==t?c&&"Shift"===t&&h():f()})),document.addEventListener("mouseup",(e=>{const t=document.querySelector(".textarea");t.focus();const s=document.querySelectorAll(".key"),i=e.target.innerText;e.target===t&&(a=t.selectionStart),c&&"CapsLock"===i&&e.shiftKey?p():!c&&"CapsLock"===i&&e.shiftKey?o():c||"Shift"!==i?c&&"Shift"===i?p():"CapsLock"===i?u():"Enter"===i?d():"Tab"===i?l():"Backspace"===i?y():"Delete"===i?r():"Alt"===i&&e.ctrlKey||"Ctrl"===i&&e.altKey?R():"Ctrl"!==i&&"Win"!==i&&"Alt"!==i&&"Shift"!==i&&s.forEach((t=>{t.contains(e.target)&&function(e){const t=document.querySelector(".textarea");let s=e;""===s&&(s=" ");const c=a;t.value=n(c,t.value,s),t.setSelectionRange(a,a)}(i)})):o()}));window.onload=function(){!function(){const e=document.querySelector("body"),t=document.createElement("main");t.className="container";const s=document.createElement("h1");s.className="title",s.textContent="Virtual keyboard";const c=document.createElement("textarea");c.className="textarea";const a=document.createElement("div");a.className="keyboard";const i=document.createElement("div");i.className="keyboard__row",a.append(i);const u=document.createElement("p");u.className="description",u.textContent="Keyboard created in the Windows operating system";const h=document.createElement("p");h.className="language",h.textContent="To switch the language combination: Ctrl + Alt",t.append(s),t.append(c),t.append(a),t.append(u),t.append(h),e.append(t)}(),(()=>{const s=[];s.push(...e);const c=document.querySelector(".keyboard__row");(e=>{const s=[];return e.forEach((e=>{s.push(new t(e))})),s})(s).forEach((e=>{c.append(e.creatKey())}))})()},window.addEventListener("load",(function(){localStorage.getItem("lang")&&"ru"===localStorage.getItem("lang")&&R()})),window.addEventListener("beforeunload",(function(){localStorage.setItem("lang",s)}))})();